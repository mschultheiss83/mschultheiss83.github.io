{% if site.categories %}
    <h2>Gesamte site.categories Struktur:</h2>
    <pre>{{ site.categories | inspect }}</pre>
{% endif %}
<hr>

{% if site.categories and site.categories != empty %}
<h2>Verwandte Kategorien (Debugging-Ansicht)</h2>
<section class="debug-categories-section">
    <h3>1. Gesamtstruktur von <code>site.categories</code>:</h3>
    <pre>{{ site.categories | inspect }}</pre>
    <hr>

    <h3>2. Iteration durch <code>site.categories</code> und Inspektion der Elemente:</h3>
    <ul>
        {% comment %}
        Wenn wir über site.categories iterieren, ist jedes 'category_data' ein Array:
        category_data[0] = Kategoriename (String)
        category_data[1] = Liste der Posts in dieser Kategorie (Array von Post-Objekten)
        {% endcomment %}
        {% for category_data in site.categories %}
        <li>
            <h4>Inspektion des aktuellen <code>category_data</code>-Elements:</h4>
            <pre>{{ category_data | inspect }}</pre>

            <p><strong>Kategoriename (<code>category_data[0]</code>):</strong> {{ category_data[0] }}</p>

            <p><strong>Liste der Posts in dieser Kategorie (<code>category_data[1]</code>):</strong></p>
            {% if category_data[1] and category_data[1] != empty %}
            <ul>
                {% for actual_post in category_data[1] %}
                <li>
                    <p><strong>Link zum Beitrag:</strong> <a href="{{ site.baseurl }}{{ actual_post.url }}">{{ actual_post.title }}</a> - {{ actual_post.date | date_to_string: "ordinal", "DE" }}</p>
                    <p><em>Inspektion dieses <code>actual_post</code>-Objekts:</em></p>
                    <pre>{{ actual_post | inspect }}</pre>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>Keine Beiträge in der Kategorie "{{ category_data[0] }}".</p>
            {% endif %}
            <hr style="border-top: 1px dashed #ccc; margin: 20px 0;">
        </li>
        {% endfor %}
    </ul>
</section>
{% else %}
<p>Keine Kategorien in <code>site.categories</code> gefunden oder die Variable ist leer.</p>
{% endif %}

